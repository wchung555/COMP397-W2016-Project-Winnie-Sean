{"version":3,"sources":["scenes/level2.ts"],"names":[],"mappings":"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","file":"scenes/level2.js","sourcesContent":["// LEVEL 2 SCENE\r\nmodule scenes {\r\n    export class Level2 extends objects.Scene {\r\n        //PRIVATE INSTANCE VARIABLES ++++++++++++\r\n        private _sceneLabel: objects.Label;\r\n        private _startButton: objects.Button;\r\n\r\n        //Scene- - - - - - - - - - - - - - - \r\n        private _background1: objects.World;\r\n\r\n        //non-Player- - - - - - - - - - - - - - -\r\n        private _batarangs: objects.Batarang[];\r\n        private _batarangCount: number;\r\n\r\n        private _spikes: objects.Spikes[];\r\n        private _spikeCount: number;\r\n\r\n        private _plasma: objects.Projectile;\r\n        \r\n        private _component: objects.Component;\r\n\r\n        //player- - - - - - - - - - - - - - - - - -\r\n        private _player: objects.Player;\r\n        //other- -- - - - - - - - - - - - - - - - \r\n        private _collision: managers.Collision;\r\n        private _enemyCollision: managers.EnemyCollision[];\r\n        private _spikeCollision: managers.EnemyCollision[];\r\n        private _scoreLabel: objects.Label;\r\n        private _livesLabel: objects.Label;\r\n        private _exitButton: objects.Button;\r\n\r\n\r\n\r\n        // CONSTRUCTOR ++++++++++++++++++++++\r\n        constructor() {\r\n            super();\r\n\r\n        }\r\n\r\n        // PUBLIC METHODS +++++++++++++++++++++\r\n\r\n        // Start Method\r\n        public start(): void {\r\n\r\n            //scene click event\r\n            this.on(\"click\", this._mouseClick, this);\r\n\r\n            // Set starting score\r\n            score = 0;\r\n\r\n            // add level lives\r\n            lives += 5;\r\n\r\n            // Set Enemy Count\r\n            this._batarangCount = 3;\r\n            this._spikeCount = 3;\r\n\r\n            // Instantiate Enemy array\r\n            this._batarangs = new Array<objects.Batarang>(this._batarangCount);\r\n            this._enemyCollision = new Array<managers.EnemyCollision>(this._batarangCount);\r\n\r\n            this._spikes = new Array<objects.Spikes>(this._spikeCount);\r\n            this._spikeCollision = new Array<managers.EnemyCollision>(this._spikeCount);\r\n\r\n            // add world to the scene\r\n            this._background1 = new objects.World(\"L2_Platform\");\r\n            this.addChild(this._background1);\r\n            \r\n            // add player to the scene\r\n            this._player = new objects.Player();\r\n            this.addChild(this._player);\r\n\r\n            //add enemies to the scene\r\n            for (var i: number = 0; i < this._batarangCount; i++) {\r\n                this._batarangs[i] = new objects.Batarang();\r\n                this.addChild(this._batarangs[i]);\r\n                this._enemyCollision[i] = new managers.EnemyCollision(this._batarangs[i]);\r\n            }\r\n\r\n            for (var i: number = 0; i < this._spikeCount; i++) {\r\n                this._spikes[i] = new objects.Spikes();\r\n                this.addChild(this._spikes[i]);\r\n                this._spikeCollision[i] = new managers.EnemyCollision(this._spikes[i]);\r\n            }\r\n            \r\n            this._component = new objects.Component();\r\n            this.addChild(this._component);\r\n\r\n            this._plasma = new objects.Projectile(.5);\r\n            this.addChild(this._plasma);\r\n\r\n             // add labels to scene\r\n            this._scoreLabel = new objects.Label(\"Score: \" + score + \" m\",\r\n                \"35px Consolas\",\r\n                \"#FFFFFF\",\r\n                120,\r\n                0,\r\n                false);\r\n            this.addChild(this._scoreLabel);\r\n            this._livesLabel = new objects.Label(\"Lives: \" + lives,\r\n                \"35px Consolas\",\r\n                \"#FFFFFF\",\r\n                config.Screen.WIDTH - 200,\r\n                0,\r\n                false);\r\n            this.addChild(this._livesLabel);\r\n\r\n            // add collision manager to the scene\r\n            this._collision = new managers.Collision(this._player);\r\n            \r\n            \r\n            // add the Exit button to the scene\r\n            this._exitButton = new objects.Button(\r\n                \"quitButton_small\", 5, 5, false);\r\n            \r\n            this.addChild(this._exitButton);\r\n\r\n            // Exit Button event listener\r\n            this._exitButton.on(\"click\", this._exitButtonClick, this);\r\n            \r\n\r\n            // add this scene to the global stage container\r\n            stage.addChild(this);\r\n        }\r\n\r\n        // PLAY Scene updates here\r\n        public update(): void {\r\n            this._background1.update();\r\n            this._player.update();\r\n\r\n            // check for collisions\r\n            //batarangs\r\n            for (var i = 0; i < this._batarangCount; i++) { //check all\r\n                if (this._collision.check(this._batarangs[i])) { //colliding with player avatar\r\n                    this._batarangs[i].isHittingPlayer = true;\r\n                    lives--;\r\n                    createjs.Sound.play(\"grunt\", {volume: 0.75});\r\n                    console.log(\"you've been hit by a batarang...that's gonna leave a mark!\");\r\n                } else {\r\n                    for (var j = 0; j < this._batarangCount; j++) {\r\n                        if (j != i && this._enemyCollision[j].check(this._batarangs[i])) {\r\n                            this._batarangs[i].isHittingBat = true;\r\n                        }//if\r\n                    }//for\r\n                }//else\r\n                this._batarangs[i].update();\r\n                this._batarangs[i].isHittingBat = false;\r\n                this._batarangs[i].isHittingPlayer = false;\r\n            }//for batarangs\r\n            \r\n            \r\n            //plasma blasts\r\n            this._plasma.update();\r\n            \r\n            //spikes           \r\n            for (var i = 0; i < this._spikeCount; i++) { //check all\r\n                if (this._collision.check(this._spikes[i])) { //colliding with player avatar\r\n                    this._spikes[i].isHittingPlayer = true;\r\n                    this._spikes[i].isColliding = true;\r\n                    lives--;\r\n                    createjs.Sound.play(\"grunt\");\r\n                    this._livesLabel.text = \"Lives: \" + lives;\r\n                    console.log(\"ouch! you've been spiked!\");\r\n                } else {\r\n                    if (this._spikeCollision[i].check(this._plasma)) {\r\n                        this._spikes[i].isColliding = true;\r\n                        this._plasma.isColliding = true;\r\n                        console.log('spike meets plasma');\r\n                    }\r\n                }//else\r\n                this._spikes[i].update();\r\n                this._spikes[i].isColliding = false;\r\n                this._plasma.isColliding = false;\r\n                this._spikes[i].isHittingBat = false;\r\n                this._spikes[i].isHittingPlayer = false;\r\n                this._spikes[i].projectileHit = false;\r\n            }//for spikes\r\n            \r\n            //component\r\n            if (this._collision.check(this._component)) {\r\n                this._component.isCollision = true;\r\n                score++;\r\n                createjs.Sound.play(\"powerup\");\r\n            }\r\n            this._component.update();\r\n            \r\n            this._scoreLabel.text = \"Components: \" + score;\r\n            this._livesLabel.text = \"Lives: \" + lives;\r\n\r\n            // //plasma blasts\r\n            // this._plasma.update();\r\n\r\n            if (lives <= 0) {\r\n                console.log(\"player ran out of lives\");\r\n                scene = config.Scene.GAMEOVER;\r\n                changeScene();\r\n            } else if (score >= 10) {\r\n                console.log(\"transfer to level 3\");\r\n                scene = config.Scene.LEVEL23;\r\n                changeScene();\r\n            }\r\n        }\r\n\r\n\r\n        //EVENT HANDLERS ++++++++++++++++++++\r\n        private _mouseClick(event: createjs.MouseEvent) {\r\n            var fired: boolean = false;\r\n            if (!this._plasma._fired) {\r\n                this._plasma.fire(this._player.x, this._player.y);\r\n                fired = true;\r\n                createjs.Sound.play(\"plasma\");\r\n            }\r\n        }//_mouseClick\r\n        \r\n        // EXIT Button click event handler\r\n        private _exitButtonClick(event: createjs.MouseEvent) {\r\n            createjs.Sound.play(\"select\");\r\n            // Switch to the END Scene\r\n            scene = config.Scene.END;\r\n            changeScene();\r\n        }//_exitButtonClick\r\n    }\r\n}"],"sourceRoot":"/source/"}