{"version":3,"sources":["scenes/level1.ts"],"names":[],"mappings":"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","file":"scenes/level1.js","sourcesContent":["// LEVEL 1 SCENE\r\nmodule scenes {\r\n    export class Level1 extends objects.Scene {\r\n        //PRIVATE INSTANCE VARIABLES ++++++++++++\r\n        private _background1: objects.World;\r\n        private _background2: objects.World;\r\n        private _batarangs: objects.Batarang[];\r\n        private _batarangCount: number;\r\n        private _player: objects.Player;\r\n        private _collision: managers.Collision;\r\n        private _enemyCollision: managers.EnemyCollision[];\r\n        private _scoreLabel: objects.Label;\r\n        private _lives: number;\r\n        private _livesLabel: objects.Label;\r\n\r\n        // CONSTRUCTOR ++++++++++++++++++++++\r\n        constructor() {\r\n            super();\r\n\r\n        }\r\n\r\n        // PUBLIC METHODS +++++++++++++++++++++\r\n\r\n        // Start Method\r\n        public start(): void {\r\n            // Set starting score\r\n            score = 0;\r\n\r\n            // Set lives = 9\r\n            this._lives = 5;\r\n\r\n            // Set Enemy Count\r\n            this._batarangCount = 5;\r\n\r\n            // Instantiate Enemy array\r\n            this._batarangs = new Array<objects.Batarang>(this._batarangCount);\r\n            this._enemyCollision = new Array<managers.EnemyCollision>(this._batarangCount);\r\n\r\n            // add world to the scene\r\n            this._background1 = new objects.World();\r\n            this.addChild(this._background1);\r\n                    //add secondary for smooth scroll\r\n            this._background2 = new objects.World();\r\n            this._background2.setSecondary();\r\n            this.addChild(this._background2);\r\n\r\n            // add player to the scene\r\n            this._player = new objects.Player();\r\n            this.addChild(this._player);\r\n\r\n            //add enemies to the scene\r\n            for (var i: number = 0; i < this._batarangCount; i++) {\r\n                this._batarangs[i] = new objects.Batarang();\r\n                this.addChild(this._batarangs[i]);\r\n                this._enemyCollision[i] = new managers.EnemyCollision(this._batarangs[i]);\r\n            }\r\n\r\n            // add labels to scene\r\n            this._scoreLabel = new objects.Label(\"Score: \" + score + \" m\",\r\n                \"35px Consolas\",\r\n                \"#FFFFFF\",\r\n                50,\r\n                50,\r\n                false);\r\n            this.addChild(this._scoreLabel);\r\n            this._livesLabel = new objects.Label(\"Lives: \" + this._lives,\r\n                \"35px Consolas\",\r\n                \"#FFFFFF\",\r\n                config.Screen.WIDTH - 200,\r\n                50,\r\n                false);\r\n            this.addChild(this._livesLabel);\r\n\r\n            // add collision manager to the scene\r\n            this._collision = new managers.Collision(this._player);\r\n\r\n            // add this scene to the global stage container\r\n            stage.addChild(this);\r\n        }\r\n\r\n        // PLAY Scene updates here\r\n        public update(): void {\r\n            this._background1.update();\r\n            this._background2.update();\r\n\r\n            this._player.update();\r\n\r\n            score++;\r\n            this._scoreLabel.text = \"Score: \" + score + \" m\";\r\n\r\n            // check for collisions\r\n            for (var i = 0; i < this._batarangCount; i++) {\r\n                if (this._collision.check(this._batarangs[i])) {\r\n                    this._batarangs[i].isColliding = true;\r\n                    //this._batarangs[i].bounceX();           //bounce away\r\n                    this._lives--;\r\n                    this._livesLabel.text = \"Lives: \" + this._lives;\r\n                } else {\r\n                    for (var j = 0; j < this._batarangCount; j++) {\r\n                        if (j != i && this._enemyCollision[j].check(this._batarangs[i])) {\r\n                            this._batarangs[i].isColliding = true;\r\n                        }\r\n                    }\r\n                }\r\n                this._batarangs[i].update();\r\n                this._batarangs[i].isColliding = false;\r\n            }\r\n\r\n            if (this._lives <= 0) {\r\n                console.log(\"player ran out of lives\");\r\n                scene = config.Scene.LEVEL2; //testing\r\n                changeScene();\r\n            } else if (score >= 1000) {\r\n                console.log(\"transfer to level 2\");\r\n                 scene = config.Scene.LEVEL2;\r\n                 changeScene();\r\n            }\r\n        }\r\n\r\n\r\n        //EVENT HANDLERS ++++++++++++++++++++\r\n\r\n    }\r\n}"],"sourceRoot":"/source/"}